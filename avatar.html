<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { margin: 0; background: #000; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; }
        video { width: 100%; height: 100%; object-fit: cover; }
        #msg { position: absolute; bottom: 5%; color: pink; font-family: 'Arial'; text-shadow: 1px 1px 5px #000; font-size: 1.2rem; text-align: center; width: 100%; }
    </style>
</head>
<body>
    <video id="v" autoplay muted loop playsinline>
        <source src="https://v.ftcdn.net/05/53/72/34/700_F_553723467_7nZ8D2H4Y7HnN2xX5S6G7B8E9L1M2N3.mp4" type="video/mp4">
    </video>
    <div id="msg">Ù†ÙˆØ±: Ù…Ø¹ÙƒÙ… ÙˆØ¨ÙƒÙ… ÙŠØ­Ù„Ùˆ Ø§Ù„Ø¨Ø« ðŸŒ¸</div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const v = document.getElementById('v');

        socket.on('speak', (data) => {
            const s = new SpeechSynthesisUtterance(data.text);
            s.lang = 'ar-SA';
            s.pitch = 1.3; // Ù†Ø¨Ø±Ø© Ø£Ù†Ø«ÙˆÙŠØ© Ø±Ù‚ÙŠÙ‚Ø©
            s.rate = 0.85; // Ø³Ø±Ø¹Ø© Ù‡Ø§Ø¯Ø¦Ø© ÙˆÙˆÙ‚ÙˆØ±Ø©
            
            s.onstart = () => v.style.filter = "brightness(1.2) contrast(1.1)";
            s.onend = () => v.style.filter = "brightness(1)";
            
            window.speechSynthesis.speak(s);
            document.getElementById('msg').innerText = data.text;
        });

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ù„ØµÙˆØª Ø¨Ù„Ù…Ø³Ø©
        document.body.onclick = () => {
            v.play();
            window.speechSynthesis.speak(new SpeechSynthesisUtterance("Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ…"));
            console.log("Ù†ÙˆØ± Ø§Ù†Ø·Ù„Ù‚Øª!");
        };
    </script>
</body>
</html>
